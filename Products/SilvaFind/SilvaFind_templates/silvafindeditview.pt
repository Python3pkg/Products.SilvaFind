<form name="editform"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      i18n:domain="silva">

  <div class="form-head">
    <h3 i18n:domain="silva">
      Edit
    </h3>
  </div>

  <div class="form-head">
    <h4 i18n:domain="silva">
      Configure search form fields
    </h4>
  </div>

  <div class="form-body">
    <div class="form-section" tal:repeat="field view/widgets">
      <div class="form-label" tal:define="name field/getName">
        <input type="checkbox"
               tal:condition="field/canBeShown"
               tal:attributes="name string:show_${name}:bool;
                               checked python:context.isCriterionShown(name);" />
        <label tal:content="field/getTitle">
          element label
        </label>

        <p tal:content="structure field/getDescription">
          element description
        </p>
      </div>
      <div class="form-field"
           tal:content="structure field/renderEditWidget">
        element widget
      </div>
    </div>
  </div>

  <div class="form-footer">
    <div class="form-controls">
      <a name="silvafind_save" class="form-control" title="save modifications"
         i18n:attributes="title"
         i18n:translate="">Save changes</a>
    </div>
  </div>

  <div class="form-head">
    <h4 i18n:domain="silva">
      Configure search results fields
    </h4>
  </div>

  <div class="form-body">
    <div class="form-section" tal:repeat="result context/getResultFields">

      <div class="form-label" tal:define="name result/getName">
        <input type="checkbox" title="Check to show this field in the form"
               i18n:attributes="title"
               tal:attributes="name string:show_result_${name}:bool;
                               checked python:context.isResultShown(name);
                               id string:show_result_${name};" />

        <label tal:attributes="for string:show_result_${name}">
          <tal:label tal:replace="result/getTitle" />
          <i tal:define="metadata result/getId"
             tal:condition="metadata">(<tal:id tal:replace="metadata" />)</i>
        </label>
        <p tal:content="structure result/getDescription">
          field description
        </p>
      </div>
  </div>

  <div class="form-footer">
    <div class="form-controls">
      <a name="silvafind_save" class="form-control" title="save modifications"
         i18n:attributes="title"
         i18n:translate="">Save changes</a>
    </div>
  </div>

</form>
